{# templates/registration/login.html #}
{% load static %}
<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <title>Sign in ‚Äì AccountWorks</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <style>
    :root{ --bg1:#eef2ff; --bg2:#f8fbff; }
    body{
      min-height:100vh;
      background: radial-gradient(1200px 800px at 10% 10%, var(--bg1), transparent 60%),
                  radial-gradient(1200px 800px at 90% 90%, var(--bg2), transparent 60%),
                  #f6f8fb;
    }
    .auth-wrap{min-height:100vh; display:flex; align-items:center; justify-content:center; padding:32px;}
    .auth-card{
      width:100%; max-width:440px; border:0; border-radius:22px;
      box-shadow:0 18px 48px rgba(13,110,253,.12); overflow:hidden; background:#fff;
    }
    .brand{display:flex; align-items:center; gap:10px; font-weight:800; font-size:22px;}
    .brand .bubble{
      width:40px; height:40px; border-radius:12px; display:flex; align-items:center; justify-content:center;
      background:rgba(13,110,253,.12); color:#0d6efd; font-size:20px;
    }
    .muted{color:#6c757d}
    .toggle-btn{
      position:absolute; right:.6rem; top:50%; transform:translateY(-50%);
      border:0; background:transparent; color:#6c757d;
    }
    .divider{height:1px;background:#eef2f6;margin:18px 0}
  </style>
</head>
<body>
  <div class="auth-wrap">
    <div class="card auth-card">
      <div class="card-body p-4 p-md-5">
        <div class="brand mb-3"><div class="bubble">üíº</div>AccountWorks</div>
        <h4 class="mb-1">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</h4>
        <div class="muted mb-4">‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÅ‡∏•‡∏∞‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏û‡∏≠‡∏£‡πå‡∏ó‡∏±‡∏•</div>

        {% if form.non_field_errors %}
          <div class="alert alert-danger py-2">{{ form.non_field_errors|join:" " }}</div>
        {% endif %}
        {% if messages %}
          {% for m in messages %}
            <div class="alert alert-{{ m.tags }} py-2 mb-3">{{ m }}</div>
          {% endfor %}
        {% endif %}

        <form method="post" novalidate>
          {% csrf_token %}
          {% if next %}<input type="hidden" name="next" value="{{ next }}">{% endif %}

          <div class="mb-3">
            <label class="form-label">Username</label>
            <input type="text"
                   name="{{ form.username.html_name|default:'username' }}"
                   value="{{ form.username.value|default_if_none:'' }}"
                   class="form-control"
                   autocomplete="username" required autofocus>
            {% if form.username.errors %}
              <div class="text-danger small mt-1">{{ form.username.errors|join:", " }}</div>
            {% endif %}
          </div>

          <div class="mb-2 position-relative">
            <label class="form-label">Password</label>
            <input type="password"
                   name="{{ form.password.html_name|default:'password' }}"
                   class="form-control" id="password"
                   autocomplete="current-password" required>
            <button type="button" class="toggle-btn" id="togglePass" aria-label="toggle password">üëÅ</button>
            {% if form.password.errors %}
              <div class="text-danger small mt-1">{{ form.password.errors|join:", " }}</div>
            {% endif %}
          </div>

          <div class="d-flex align-items-center justify-content-between mb-3">
            <div class="form-text">‡∏•‡∏∑‡∏°‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô? ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö</div>
          </div>

          <button class="btn btn-primary w-100 py-2" type="submit">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
        </form>

        <div class="divider"></div>
        <div class="muted small">‡πÄ‡∏Ñ‡∏•‡πá‡∏î‡∏•‡∏±‡∏ö: ‡πÉ‡∏ä‡πâ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏≤‡∏¢‡∏≤‡∏Å ‡πÅ‡∏•‡∏∞‡∏≠‡∏¢‡πà‡∏≤‡πÅ‡∏ä‡∏£‡πå‡∏Å‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏≠‡∏∑‡πà‡∏ô</div>
      </div>
    </div>
  </div>

  <script>
    const btn = document.getElementById('togglePass');
    const pwd = document.getElementById('password');
    btn?.addEventListener('click', ()=>{
      const s = pwd.getAttribute('type') === 'password' ? 'text' : 'password';
      pwd.setAttribute('type', s);
      btn.textContent = s === 'password' ? 'üëÅ' : 'üôà';
    });
  </script>
</body>
</html>
